<VirtualHost *:80>
	ServerName e-colle.com # placez ici le nom de domaine de votre site, par exemple: e-colle.com
	Redirect / https://e-colle.com # redirection vers le https: pour forcer le SSL. Mettez bien ici aussi le nom de domaine du site.
</VirtualHost>


<VirtualHost *:443>
	ServerName e-colle.com # placez ici le nom de domaine de votre site, par exemple: e-colle.no-ip.org
	ServerAdmin admin@example.com # placez ici l'email de l'admin, qui apparaîtra sur la page en cas d'erreur 500
	ServerAlias e-colle	

	WSGIDaemonProcess e-colle python-path=/var/www/html/e-colle
	WSGIProcessGroup e-colle
	WSGIScriptAlias / /var/www/html/e-colle/ecolle/wsgi.py

	<Directory /var/www/html/e-colle/ecolle>
   	<Files wsgi.py>
      	require all granted
   	</Files>
	</Directory>
	
	# on sert les fichiers statiques du site
	Alias /static/ "/var/www/html/e-colle/public/"

	# on sert les fichiers media du site

	Alias /media/ "/var/www/html/e-colle/media/"
 
	# on donne l'autorisation à tous de les lire
	<Directory "/var/www/html/e-colle/public/">
		require all granted
	</Directory>

	ErrorLog ${APACHE_LOG_DIR}/error.log

	# Possible values include: debug, info, notice, warn, error, crit,
	# alert, emerg.
	LogLevel warn

	CustomLog ${APACHE_LOG_DIR}/access.log combined

	SSLEngine on
	SSLCertificateFile /etc/apache2/e-colle.crt
	SSLCertificateKeyFile /etc/apache2/e-colle.key
</VirtualHost>
